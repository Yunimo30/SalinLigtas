/* Soft monochrome + calm accents */
:root{
  --bg:#f4f5f8;
  --card:#ffffff;
  --muted:#96a1ad;
  --accent:#1e40af;
  --green:#22c55e;
  --amber:#fbbf24;
  --orange:#f97316;
  --red:#ef4444;
}

.dark {
  --bg:#1a1a1a;
  --card:#2d2d2d;
  --muted:#b0b0b0;
  --accent:#3b82f6;
  --green:#10b981;
  --amber:#f59e0b;
  --orange:#fb923c;
  --red:#ef4444;
}

*{box-sizing:border-box}
body{
  margin:0;
  background:var(--bg);
  font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
  color:#222;
  height:100vh;
}

.container{
  display:grid;
  grid-template-columns:260px 1fr 380px;
  gap:14px;
  height:100vh;
  padding:12px;
}

/* cards */
.card{
  background:var(--card);
  border-radius:12px;
  box-shadow:0 6px 20px rgba(10,20,40,0.06);
  padding:16px;
  overflow:auto;
}

/* controls */
.controls label{display:block;margin-top:10px;font-size:13px;color:var(--muted)}
.controls input, .controls select{
  width:100%; padding:8px; margin-top:6px; border-radius:8px; border:1px solid #e6e9ee;
  font-size:14px;
}
.scenario-row{display:flex;gap:8px;margin-top:10px}
.scenario-btn{flex:1;padding:8px;border-radius:8px;border:0;background:#394f83;color:#fff;cursor:pointer}
.run-btn{margin-top:12px;padding:10px;border-radius:10px;border:0;background:var(--accent);color:#fff;cursor:pointer}

/* map */
.map-panel{display:flex;flex-direction:column;align-items:center;justify-content:flex-start}
.suspension-banner{height:50px;display:flex;justify-content:center;gap:8px;margin-bottom:10px;}
.banner-tile{flex:0 0 120px;display:flex;flex-direction:column;align-items:center;justify-content:center;font-weight:bold;text-align:center;padding:4px;background:#fafafa;border:1px solid #ccc;border-radius:8px;}
.banner-tile .tile-label{font-size:10px;color:#666;margin-bottom:2px}
.banner-tile .tile-value{font-size:16px;font-weight:bold;color:#333}
.banner-tile .tile-value.safe{color:var(--green)}
.banner-tile .tile-value.caution{color:var(--amber)}
.banner-tile .tile-value.impassable{color:var(--red)}
.banner-tile .tile-value.normal{color:var(--green)}
#map{width:92%;height:calc(72vh - 90px);border-radius:0 0 10px 10px;border:1px solid #dfe6ef;border-top:none}

/* results */
.flood-table{width:100%;border-collapse:collapse;margin-bottom:12px}
.flood-table th, .flood-table td{padding:8px;border-bottom:1px solid #eef2f6;text-align:left;font-size:14px}
.badge{display:inline-block;padding:4px 8px;border-radius:8px;color:#fff;font-weight:600;font-size:13px}
.badge.green{background:var(--green)}.badge.yellow{background:var(--amber);color:#222}.badge.orange{background:var(--orange)}.badge.red{background:var(--red)}

.kpis{margin-top:12px;display:flex;flex-direction:column;gap:6px;font-size:14px;color:#263238}
.small{font-size:12px;color:var(--muted);margin-top:10px}

/* Resize charts inside the results panel */
.results canvas {
  width: 100% !important;
  max-height: 250px;   /* caps the height */
  height: 200px;       /* a good balance */
}

/* Tabs */
.tabs {
  display: flex;
  margin-bottom: 15px;
}

.tab-btn {
  flex: 1;
  padding: 10px;
  border: none;
  background: #e6e9ee;
  color: #222;
  cursor: pointer;
  font-size: 14px;
  border-radius: 8px 8px 0 0;
}

.tab-btn.active {
  background: var(--accent);
  color: #fff;
}

.tab-content {
  display: block;
}

/* Slider */
#forecastHour {
  width: 100%;
  margin-top: 6px;
}

/* Safe Route Identifier */
#safestRoutes ol {
  padding-left: 20px;
  margin: 0;
}

#safestRoutes li {
  margin-bottom: 8px;
  font-size: 14px;
  line-height: 1.4;
}

#safestRoutes strong {
  color: var(--accent);
}

/* Header */
.header {
  background: var(--card);
  padding: 12px 20px;
  border-bottom: 1px solid #e6e9ee;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.header-content {
  display: flex;
  justify-content: space-between;
  align-items: center;
  max-width: 1200px;
  margin: 0 auto;
}

.header h1 {
  margin: 0;
  font-size: 24px;
  color: #222;
}

.header p {
  margin: 4px 0 0 0;
  font-size: 14px;
  color: var(--muted);
}

.toggle-btn {
  background: none;
  border: none;
  font-size: 24px;
  cursor: pointer;
  padding: 8px;
  border-radius: 50%;
  transition: background 0.2s;
}

.toggle-btn:hover {
  background: rgba(0,0,0,0.1);
}

/* Dark mode adjustments */
.dark .header {
  background: var(--card);
  border-bottom-color: #444;
  box-shadow: 0 2px 4px rgba(0,0,0,0.3);
}

.dark .header h1 {
  color: #fff;
}

.dark .header p {
  color: var(--muted);
}

.dark .toggle-btn:hover {
  background: rgba(255,255,255,0.1);
}

.dark .controls input, .dark .controls select {
  background: var(--card);
  border-color: #555;
  color: #fff;
}

.dark .controls label {
  color: var(--muted);
}

.dark .flood-table th, .dark .flood-table td {
  border-bottom-color: #444;
}

.dark .kpis {
  color: #e0e0e0;
}

.dark .badge.yellow {
  color: #000;
}

/* Unit toggle */
.unit-toggle {
  margin-top: 10px;
  display: flex;
  gap: 8px;
}

/* Help icon */
.help-icon {
  cursor: pointer;
  color: var(--accent);
  font-weight: bold;
  margin-left: 5px;
  border-radius: 50%;
  width: 16px;
  height: 16px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  background: rgba(30, 64, 175, 0.1);
  font-size: 12px;
}

.help-icon:hover {
  background: var(--accent);
  color: #fff;
}

/* Modal styles */
.modal {
  display: none;
  position: fixed;
  z-index: 1000;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  overflow: auto;
  background-color: rgba(0,0,0,0.4);
}

.modal-content {
  background-color: var(--card);
  margin: 15% auto;
  padding: 20px;
  border: 1px solid #888;
  width: 80%;
  max-width: 500px;
  border-radius: 10px;
  position: relative;
}

.close {
  color: #aaa;
  float: right;
  font-size: 28px;
  font-weight: bold;
  cursor: pointer;
}

.close:hover,
.close:focus {
  color: #000;
  text-decoration: none;
}

#hotlinesContent h3 {
  margin-top: 20px;
  margin-bottom: 10px;
  color: var(--accent);
}

#hotlinesContent ul {
  list-style-type: none;
  padding: 0;
}

#hotlinesContent li {
  margin-bottom: 8px;
  font-size: 14px;
}

#hotlinesContent strong {
  color: var(--accent);
}

/* Dark mode for modal */
.dark .modal-content {
  background-color: var(--card);
  color: #fff;
}

.dark .close:hover,
.dark .close:focus {
  color: #fff;
}

/* Tutorial modal styles */
.tutorial-step {
  text-align: center;
}

.tutorial-step h3 {
  color: var(--accent);
  margin-bottom: 10px;
}

.tutorial-step p {
  margin-bottom: 20px;
  line-height: 1.5;
}

.tutorial-next, .tutorial-prev, .tutorial-done {
  padding: 8px 16px;
  border: none;
  border-radius: 5px;
  background: var(--accent);
  color: #fff;
  cursor: pointer;
  margin: 0 5px;
}

.tutorial-prev {
  background: #666;
}

.tutorial-done {
  background: var(--green);
}

/* --- Mobile Responsiveness --- */
@media (max-width: 768px) {
  .container {
    /* Switch from 3 columns to a single vertical column */
    grid-template-columns: 1fr;
    /* Allow the container to grow taller than the screen to fit content */
    height: auto;
    padding: 8px; /* Slightly reduce padding for small screens */
    gap: 8px;
  }

  .card {
    /* Prevent cards from overflowing horizontally */
    overflow-x: hidden;
  }

  #map {
    /* Give the map a fixed, usable height on mobile */
    height: 400px;
    width: 100%; /* Ensure map takes full width of the card */
  }

  .results canvas {
    /* Adjust chart height for mobile */
    height: 180px;
  }

  .unit-toggle {
    flex-direction: column;
  }
}
